<div class="example-loading-shade" *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
</div>
<div style="display: flex;">
    <div style="display: flex;align-items: center;">
        {{allResInSearch.length}}
        {{lang.records | ucfirst}}&nbsp;<small *ngIf="selectedRes.length > 0">- {{selectedRes.length}}
            {{lang.selected}}</small>
    </div>
    <div style="flex:1;">
        <mat-paginator #paginatorResultList [length]="resultsLength" [hidePageSize]="true" [pageSize]="10"
            class="paginatorResultList"></mat-paginator>
    </div>
</div>
<div style="overflow: auto;">
    <table cdkDropList id="document-list" #tableResourceListSort="matSort" mat-table [dataSource]="data" matSort
        matSortActive="resId" matSortDisableClear matSortDirection="asc" style="width:100%;min-width: 800px;">

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef style="width: 70px;">
                <mat-checkbox color="primary" [checked]="selectedRes.length == allResInSearch.length && selectedRes.length > 0"
                    [indeterminate]="selectedRes.length > 0 && selectedRes.length < allResInSearch.length"
                     title="{{lang.selectAllResInBasket}}"
                    (change)="toggleAllRes($event)"></mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row" style="width: 70px;">
                <mat-checkbox color="primary" [checked]="row.checked" (change)="toggleRes($event,row)"
                    (click)="$event.stopPropagation();">
                </mat-checkbox>
            </td>
        </ng-container>

        <ng-container matColumnDef="resId">
            <th mat-header-cell *matHeaderCellDef> {{lang.resId}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.resId}}
            </td>
        </ng-container>
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> {{lang.status}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.status}}
            </td>
        </ng-container>
        <ng-container matColumnDef="subject">
            <th mat-header-cell *matHeaderCellDef> {{lang.subject}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.subject}}
            </td>
        </ng-container>
        <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> {{lang.doctype}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.type}}
            </td>
        </ng-container>
        <ng-container matColumnDef="creationDate">
            <th mat-header-cell *matHeaderCellDef> {{lang.creationDate}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.creationDate}}
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumnsResource"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsResource;" class="rowData"></tr>
    </table>
</div>