<div class="example-loading-shade" *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
</div>
<div style="display: flex;">
    <div style="display: flex;align-items: center;">
        <b>{{allResInSearch.length}}
        {{lang.records | ucfirst}}</b>&nbsp;<small *ngIf="selectedRes.length > 0" style="color: #029BB6;">- {{selectedRes.length}}
            {{lang.selected}}</small>
    </div>
    <div style="flex:1;">
        <mat-paginator #paginatorResultList [length]="resultsLength" [hidePageSize]="true" [pageSize]="10"
            class="paginatorResultList"></mat-paginator>
    </div>
</div>
<div style="overflow: auto;">
    <table cdkDropList id="document-list" #tableResourceListSort="matSort" mat-table [dataSource]="data" matSort
        matSortActive="chrono" matSortDisableClear matSortDirection="asc" style="width:100%;min-width: 800px;">

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef style="width: 70px;">
                <mat-checkbox color="primary"
                    [checked]="selectedRes.length == allResInSearch.length && selectedRes.length > 0"
                    [indeterminate]="selectedRes.length > 0 && selectedRes.length < allResInSearch.length"
                    title="{{lang.selectAllResInBasket}}" (change)="toggleAllRes($event)"></mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row" style="width: 70px;">
                <mat-checkbox color="primary" [checked]="row.checked" (change)="toggleRes($event,row)"
                    (click)="$event.stopPropagation();">
                </mat-checkbox>
            </td>
        </ng-container>
        <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{lang.category_id}} </th>
            <td mat-cell *matCellDef="let row">
                {{lang[row.category]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="chrono">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{lang.chrono}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.chrono}}
            </td>
        </ng-container>
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{lang.status}} </th>
            <td mat-cell *matCellDef="let row">
                <mat-icon title="{{row.statusLabel}}" [ngStyle]="{'color': row.priorityColor}" color="primary"
                    class="{{row.statusImage.charAt(0)}}{{row.statusImage.charAt(1)}} {{row.statusImage}} {{row.statusImage.charAt(0)}}{{row.statusImage.charAt(1)}}-2x">
                </mat-icon>
            </td>
        </ng-container>
        <ng-container matColumnDef="subject">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="flex:2"> {{lang.subject}} </th>
            <td mat-cell *matCellDef="let row" style="flex:2">
                {{row.subject}}
            </td>
        </ng-container>
        <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{lang.doctype}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.typeLabel}}
            </td>
        </ng-container>
        <ng-container matColumnDef="creationDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{lang.creationDate}} </th>
            <td mat-cell *matCellDef="let row">
                {{row.creationDate |Â timeAgo : 'full' | ucfirst}}
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumnsResource"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsResource;" class="rowData"></tr>
    </table>
</div>