<button *ngIf="!contextMode" mat-icon-button [matMenuTriggerFor]="menu" title="{{lang.selectAction}}" [disabled]="selectedRes.length==0"
    class="buttonArrowCheckboxTool">
    <mat-icon fontSet="fas" fontIcon="fa-sort-down fa-2x"></mat-icon>
</button>
<span *ngIf="contextMode" [matMenuTriggerFor]="menu" #menu2 style="position: absolute;" [style.left]="contextMenuPosition.x"
    [style.top]="contextMenuPosition.y"></span>

<mat-menu #menu="matMenu">
    <div style="text-align: center;font-size: 10px;opacity: 0.5;margin-top:-15px;">
        <ng-container *ngIf="!contextMode || (contextMode && this.selectedRes.length > 0)">
            {{selectedRes.length}} {{lang.selectedElements}}
        </ng-container>
        <ng-container *ngIf="contextMode && this.selectedRes.length == 0">
            {{this.contextMenuTitle}}
        </ng-container>
    </div>
    <button mat-menu-item (click)="launchEvent('confirmAction', 'Valider le document');">
        <span>Valider le document</span>
    </button>
    <button mat-menu-item (click)="launchEvent('closingAction', 'Clôturer le document');">
        <span>Clôturer le document</span>
    </button>
    <button mat-menu-item (click)="launchEvent('err', 'Action erronée');">
        <span>Action erronée</span>
    </button>
</mat-menu>