<h1 mat-dialog-title>Dossier : {{folder.label}}</h1>
<form (ngSubmit)="onSubmit()">
    <mat-dialog-content>
        <div class="col-md-12">
            <mat-form-field class="example-full-width">
                <input matInput placeholder="{{lang.label}}" name="label" [(ngModel)]="folder.label">
            </mat-form-field>
        </div>
        <div [class.col-md-12]="folder.sharing.entities.length === 0"
            [class.col-md-6]="folder.sharing.entities.length > 0">
            <div class="formType jstreeEntities">
                <div class="formType-title">
                    Périmètre de restriction
                </div>
                <mat-form-field appearance="outline">
                    <input matInput id="jstree_search" type="text" placeholder="{{lang.searchEntities}}">
                </mat-form-field>
                <div id="jstree" class="entitiesList"></div>
            </div>
        </div>
        <div class="col-md-6" *ngIf="folder.sharing.entities.length > 0">
            <div class="formType jstreeEntities">
                <div class="formType-title">
                    Paramètres
                </div>
                <ng-container *ngFor="let entity of entities | sortBy : 'entity_label'">
                    <mat-expansion-panel class="selectedEntities"
                        *ngIf="checkSelectedFolder(entity)" opened>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                {{entity.entity_label}}
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-slide-toggle color="primary">Droit de modification / suppression du dossier
                        </mat-slide-toggle>
                    </mat-expansion-panel>
                </ng-container>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions>
        <button mat-raised-button color="primary" type="submit"
            (click)="dialogRef.close(this.data)">{{lang.validate}}</button>
        <button mat-raised-button type="button" color="default" (click)="dialogRef.close()">{{lang.cancel}}</button>
    </mat-dialog-actions>
</form>