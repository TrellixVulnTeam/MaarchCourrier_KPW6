<div class="page-header">
    <h1>{{lang.administration}} {{lang.reports}}</h1>
</div>
<div *ngIf="loading">
    <mat-spinner style="margin:auto;"></mat-spinner>
</div>
<div *ngIf="!loading" class="container-fluid">
    <mat-tab-group [(selectedIndex)]="selectedTabIndex_2" *ngIf="!creationMode" (selectedTabChange)="loadReports($event.index)">
        <mat-tab *ngFor="let group of groups" label="{{group.group_id}}">
            <ng-template mat-tab-label>
                {{group.group_id}}
            </ng-template>
            <div *ngIf="loadingOptions">
                <mat-spinner style="margin:auto;"></mat-spinner>
            </div>
            <form>
                <mat-list *ngIf="reports.size() > 0 && !loadingOptions">
                    {{lang.folders}}
                    <mat-divider></mat-divider>
                    <span *ngFor="let report of reports;let i = index">
                        <mat-list-item *ngIf="report.module == 'folder'">
                            <mat-checkbox color="primary" [(ngModel)]="report.checked" (change)="saveReport()" name="report_{{report.module}}_{{i}}"
                                matTooltip="{{report.desc}}">
                                {{report.label}}
                            </mat-checkbox>
                        </mat-list-item>
                    </span>

                    {{lang.entities}}
                    <mat-divider></mat-divider>
                    <span *ngFor="let report of reports;let i = index">
                        <mat-list-item *ngIf="report.module == 'entities'">
                            <mat-checkbox color="primary" [(ngModel)]="report.checked" (change)="saveReport()" name="report_{{report.module}}_{{i}}"
                                matTooltip="{{report.desc}}">
                                {{report.label}}
                            </mat-checkbox>
                        </mat-list-item>
                    </span>


                    {{lang.maarchApplication}}
                    <mat-divider></mat-divider>
                    <span *ngFor="let report of reports;let i = index">
                        <mat-list-item *ngIf="report.module == 'application'">
                            <mat-checkbox color="primary" [(ngModel)]="report.checked" (change)="saveReport()" name="report_{{report.module}}_{{i}}"
                                matTooltip="{{report.desc}}">
                                {{report.label}}
                            </mat-checkbox>
                        </mat-list-item>
                    </span>
                </mat-list>
            </form>
        </mat-tab>
    </mat-tab-group>
    <div style="text-align:center;">
        <button color="default" mat-mini-fab routerLink='/administration' matTooltip="{{lang.back}}" class="enableAtionTopLeftSmarpthone">
            <mat-icon class="fa fa-chevron-left"></mat-icon>
        </button>
    </div>
</div>